

Installation on Ubuntu:
----------------------

# First, login as ‘root’ user because the following set of commands need to be executed with ‘sudo’ permissions.

sudo su -


# Update Package Manager

apt-get update -y 


# Install And Enable Docker

apt install docker.io -y

usermod -aG docker ubuntu

systemctl restart docker

systemctl enable docker.service



# TurnOff Swap space

swapoff -a

sed -i '/ swap / s/^\(.*\)$/#\1/g' /etc/fstab


# Install Required packages and apt keys.

apt-get install -y apt-transport-https curl

curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -

cat <<EOF | tee /etc/apt/sources.list.d/kubernetes.list
deb https://apt.kubernetes.io/ kubernetes-xenial main
EOF



# Update Package Manager

apt-get update -y 


#Install kubeadm, Kubelet And Kubectl

apt-get install -y kubelet kubeadm kubectl


# Enable and start kubelet service

systemctl daemon-reload 

systemctl start kubelet 

systemctl enable kubelet.service



#initialise the kubeadm

kubeadm init





#/etc/kubernetes/admin.conf file:

apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJeU1EVXdOakEwTXpnd04xb1hEVE15TURVd016QTBNemd3TjFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTVhoCjA0THljSU53VWdLdGtxcnY2ZFphZ1BEQks4QzJQSmFQMHpML0Z5dkdZMWNIak00eEhLR1pjMjcxV0hjSTBoYmsKT25zT1htd3dZV1VpYzNDOFhhdFdxd3BuNU9QSUpYY2tEK0t2eG1hNnRMaFhWeGQ1QUdLb0VIVnltOXIvakN1Swo0T1BrQU5IUjhLTE9zVmhWckNmVHFIc1RHd0JNSU81WThkdU5uTHZDVWFNZkRMdlN2MndSNlNvOW53YndFOWNQCnVXTlhKd1hIQWdyRG1UZUtjS052WnVTUFlpakJLcVFOZUVKaUZmQ3dXTGlyb2t6MjdtbTRlbE45d2RyeVFHdHEKWFNMK29oU3BBNTZSTWk3emUxLyszTE84T2VoU2I3aEE2VkRtUGRpait1K0loQWgrVVd4akZONUhJQklrR1BJMQpiOGN3b0RpOU1aSkwzVTkvR3QwQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFMWjJRam9uKzVMaTFDbjZWL241MnNJNWVTVHgKWDlsQU8vNThMQkRrZHlPanJ4QW9hV2J5OXBpc1NaRUxaOUZjZTNWNVZqTmxabFVrQmV6NnpsTWNheE0wblkweQpjY1RDOS9qVkRoR0tGbEFzZDkwRlFxZG9tZ3J0NC9RWnlqQ2hmK3V3REJUTC9yZzJlWHNCdFdWZW8rYlZoRTBDCng0VjFzYm5HUEc1cGVNSU9VTEtscVg4aHYwU2F1N09vTE5EVkZUenpwTTE5M3FZdG5TamErYUdwYlBoZEZlWnEKZmtSK3oydlAyQjhDQk1FTWVjL1pMVEVPbXpsNksxVW5Ia01iTXlOdlk2M1lJa1VvcUUzTUFqUy9uaGJBYnIzVwowbjV0V08wWjV0WWp0aitheHEzUWw2ZG81dmxvR3pmMzFXM0l5Zy9sQ0NvWDBsbGFYd2ZZd2dxc1FVVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    server: https://10.0.0.17:6443
  name: kubernetes
contexts:
- context:
    cluster: kubernetes
    user: kubernetes-admin
  name: kubernetes-admin@kubernetes
current-context: kubernetes-admin@kubernetes
kind: Config
preferences: {}
users:
- name: kubernetes-admin
  user:
    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM4akNDQWRxZ0F3SUJBZ0lJSXlMVkVFWFNnem93RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TWpBMU1EWXdORE00TURkYUZ3MHlNekExTURZd05ETTRNRGxhTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXhtbjRLRy9RcG5qYzM0Z2EKNExKQmVCcUdyaXQzWkJWeTk5U0p3K05OVnZVaGVpTDZTdHhSNjV6KzhkWkQ3Vm84VllzcDBoTmlZM3ZJaWxldQpGbW5nQTc4UEZUTlVtYkhnc3JhOGtLN3VocHQ0MnBUVnA1YjljUTh6SS9kUE9WVzZ2dFZLRGZwWkd5OUNtYmEyCjlmRk4zeUNvcTR5YnFEY3hNOHM1MTN3ZmRKdTVHaktHODBxTU81OXhOWVJ6MnlsSUFUdlpqMnF2eUw3MTV5TkoKTnlFUHRtdzN0Sy9VdTV5S0NqN3dsNzRXdkVodklLaGR1bFh3cExsNDczZHJnd0V2a3hRcWdQSVBNTVlhKyszOApERVl0d3Rwa3k3V2VNY0o4cDMyWE1kM1ZvTExyMGQxaThZSndTb0h2U01ydGNDbklMdlk0UDRCdExuM0FTV29wClR5YU1IUUlEQVFBQm95Y3dKVEFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFEU1IyM0V4MWVONXh5Q1lQZVdndlp1NWlLeEx0a1QxR3N5UQpua3ZFTGlnSWU4cTlRL0c3Mno5eTRVSE1zcjF1ZGw1a1NwNCt6L2lBL0FpS2MvSHBXWERuRHMrRm5UREVDVm9PCmpzdXo4TVRaNkxqakNEcTRVK09sTUdLSitOeXgrT2VEY0t2UXVST2QwYlRSWDZDOTdYQm02MkZNaVlFVlczbk0KK0U3UzdmUDdpT3pURDBYSDA5cnRscmRCY1RaSmRuTHQ3VWpNbUdMRXJLOWJmYkNnUVJzVE9IOEI1dC9VRkdKVQowMTZzZ2lic1VhQjJPZytPdDBHdEo3VFdqNi9wMHZQR0lyeFhTNGVaaXIxRmp1NHdkUjQxTXl6TGVjb0FKMFA3Cmh5Ukp4Lzh5MmlIZ1VyWkVNREJaZkl2VkRncGo1VUcxS2cyc1VraGUvZmZoTE91aWRmdz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb2dJQkFBS0NBUUVBeG1uNEtHL1FwbmpjMzRnYTRMSkJlQnFHcml0M1pCVnk5OVNKdytOTlZ2VWhlaUw2ClN0eFI2NXorOGRaRDdWbzhWWXNwMGhOaVkzdklpbGV1Rm1uZ0E3OFBGVE5VbWJIZ3NyYThrSzd1aHB0NDJwVFYKcDViOWNROHpJL2RQT1ZXNnZ0VktEZnBaR3k5Q21iYTI5ZkZOM3lDb3E0eWJxRGN4TThzNTEzd2ZkSnU1R2pLRwo4MHFNTzU5eE5ZUnoyeWxJQVR2WmoycXZ5TDcxNXlOSk55RVB0bXczdEsvVXU1eUtDajd3bDc0V3ZFaHZJS2hkCnVsWHdwTGw0NzNkcmd3RXZreFFxZ1BJUE1NWWErKzM4REVZdHd0cGt5N1dlTWNKOHAzMlhNZDNWb0xMcjBkMWkKOFlKd1NvSHZTTXJ0Y0NuSUx2WTRQNEJ0TG4zQVNXb3BUeWFNSFFJREFRQUJBb0lCQUdZeGtISnJYUUZSUVJvVQp4UnMwVk1vaWgzblB3M2VXSUpnTExVWHFuaHdLdDhwcmw1VFZNNUJ5VlZHRU5ZcGJyclcwcnI2WDQxWXdIRk04CjQ5cUJmN01PUmh0NlM3bTV4MnprOSt4aFhWT1JZa2JhMzh5bzFUTFZURmJhKzBBaHFzUzlvSjNnY3VLd2pkSVUKTE5veUJoVEZnbnFST2w4Q3htSFI2NkhVT1hOYUZOVzB6QVZwT3k2cXJNQkhGbEFoVEdEbnp1RVdzQVZ0c0RFego4dEdKNHRxSUQyc1BWNUkvRmhKZUxEcU5sNEpGWVBZOU85WHoyalBRdXNZc2ZQWVBXZURWRVhVeTQ5YnFGeTM5CmwzRHVmY096cmVkbXBFSHpHdnJjTlM4OUFsVUdiRzRzMEN2QVduSHNGVFlOUTNVVVk4RVZYRTROZndBWVRXQ2YKSDJWcThUVUNnWUVBMGVzVzQyeFUwWmlPbVp6YXFHanlFSkVZMWROS0IzWTQxTHhjb0xzZ08vNjRCUkRTYkNRZwpOemRkMnNCYWFNU2tyNC9NNnBTQThVVndGZURmdXVvT25SVjhid25EKzgyazZ4VG9uQTR4VTFKcjN1NUw4cTVsCjZxNGRxTFM2MUtjWlpTT20xVWc5MGx4WkN2VW1kQVkwTzJYSlpIemRPZzhvemN3S1V1MUg2Q2NDZ1lFQThmaGMKaGNJWFJOT3lKUGdqNXJXT3VhV3hxaksrM2ljMHU1SmpiWmtaRWY2blNGUmd6aU5LOXN1WXdHaXppLzNsdUdUcgoySkZxRDZSOTR3M1BORUtidEhGcnNuQkF5dnZSOE1lWUtVVUFJc3dZejVMalBNdm9jWTlpMUJBRUNwVndXVWtPCkZ2dEZRS0w5ZHV6MVVRYXpQSFdlNFlXeGlIM2ZXRjMxRjNVQWNCc0NnWUFJTVlMZE1aZEY3d3h4MW50NlkwNC8KYzBwaTNqSmZoQy9IcmVwM281WW9nVkt4Yit5bXArcFIvV2srWm8rZzB6d1NWaXlMWTJ4OC9sYlhvOFZYeUZiMQpycWNDdG9EZHpUTUlzZkk2VlJ0N3d4WE94OEpUSUpkOXgzb0U0YmtCSDl5UDVBcFkvTTdjN1JuVW9hajBrbUZyCmlCZUtRbzFuL0x0OC9OL1NTTXlydFFLQmdBT2o4dkJvUFNWaDhmb3dhWW5kRFdxcG5ZU3NBc2NnMitBK2taUmkKaTBnRUJzeEZ5TGNSUE4xOXJxeW1acDBpa3NRMWNIN3ZvU0xmSEsyLzFYQTUyRkhjcXZ3aVNEZEZscUVDdjcxUApObk5Qa3NmOHM4S0VadGplaVdRYllaUXZMMk9JZjlmRXJBUU83N1ZNVjF5Q3QwdWZrV1pmTm82UkpqMFVITTNmCmlzUWxBb0dBRllOMGR2MFBmOHFQOUNFRDZwQll4dXVJL3NvZHRwMmFQRjZSb2RPcTR6MkNYelRjSXZTb2NXbzgKT3NiNndMamh6WGxXRkZYaktUOHduY3hWKy9STnJuMlBkWDZaNGhhWnNIdFg3b2JUdWJGRkhIYW9lN1ZYY1ZWNAplYzY2YWVOaHlOOVpNeGVpQTFyN1Q0UTQ1cy9FeGowdzVYWVlvSnJoWHBrVEt0MThDNVE9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==




#kubeadm Token for worker join:

kubeadm token create --print-join-command

kubeadm join 10.0.0.24:6443 --token 15vyv5.dufgdnw4by5e04en     --discovery-token-ca-cert-hash sha256:1d30ab08580142ffb85599e8b122afb7527aa845999c0234b4e3b9d6275d7557



#K8s Play-Ground:

https://10.0.0.17:6443

https://www.katacoda.com/loodse/courses/kubernetes

https://www.katacoda.com/courses/kubernetes/playground


#notes:

https://github.com/loodse/kubernetes-lab

https://kubernetes.io/docs/concepts/cluster-administration/networking/




